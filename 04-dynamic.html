<!DOCTYPE html>
<html>
<head>
    <title>Author Carpentry</title>
    <link rel="stylesheet" href="css/site.css">
</head>
<body>
<header>
<a href="http://authorcarpentry.github.io"><img src="img/AClogo.jpg" alt="Author Carpentry logo"></a>
</header>
<nav>
<ul>
<li><a href=".">Lesson</a></li>
<li><a href="01-getting-started.html">Day 1: Getting Started</a></li>
<li><a href="02-markdown.html">Day 2: Intro to Markdown</a></li>
<li><a href="03-modifying-appearance.html">Day 3: Document Appearance</a></li>
<li><a href="04-dynamic.html">Day 4: Dynamic Documents</a></li>
<li><a href="05-publishing.html">Day 5: Publishing</a></li>
<li><a href="mailto:authorcarpentry@library.caltech.edu">Contact Us</a></li>
</ul>

</nav>

<section>
<h1>Dynamic Content</h1>

<p>3 hours</p>

<hr />

<p>In an open publishing workflow formatting
elements can also cause changes in how your documents look.</p>

<h2>Learning Objectives</h2>

<ul>
<li>Add an HTML widget</li>
<li>Explore some Shiny reports</li>
<li>Parameterize a report</li>
<li>Integrate dynamic content from a web resource</li>
</ul>

<hr />

<h2>Creating a Markdown Document</h2>

<h2>Pull from an ORCID profile</h2>

<p>In order to dynamically pull from an ORCID profile, we have to get an
authentication token from ORCID.  In the document find the section called
&lsquo;Principal Investigators Biosketch&rsquo;.  We&rsquo;ll be doing a three step process to
connect our document with our ORCID account.</p>

<p>Open the file <code>insert_4b_orcid.R</code>. Copy the first code chunk to the &lsquo;Principal
Investigators Biosketch&rsquo; section of your document.</p>

<p>Click the green arrow to run the code
chunk.  This will open up a web browser to the ORCID web site, where you&rsquo;ll log
in as normal.  In your R environment you&rsquo;ll see a variable called &lsquo;token&rsquo;.
This is what provides access to ORCID.</p>

<p>In the R console type <code>token</code>.  This will print the token value to the console.
Next copy and paste the following code chunk:</p>

<pre><code>if(!file.exists(&quot;~/.Renviron&quot;)) # only create if not already there
  file.create(&quot;~/.Renviron&quot;)    # (don't overwrite it)
file.edit(&quot;~/.Renviron&quot;)
</code></pre>

<p>This will open up a text file in Rstudio.  In this file you&rsquo;ll want to type</p>

<pre><code>ORCID_TOKEN=&quot;1c7...&quot;
</code></pre>

<p>where <code>1c7...</code> is replaced by the long string that we printed to the R console
earlier.  You&rsquo;ll want to copy everything after <code>BEARER</code>. Save this file, which
will be read every time you use R.  This file will show up in your home
directory, which is different from your current directory.</p>

<p>Now go back to the document.  Edit the text to say &lsquo;This is auto-populated..&rsquo;
and then add the text &lsquo;<code>r bio</code>&rsquo; which will place your bio in the
document.  Then knit and you&rsquo;ll see your biography from ORCID in the document.</p>

<p>Now go to your ORCID account and make a change to your biography.  Now all you need to update the
biosketch in your document is to click the knit button.</p>

<p>Previous: <a href="00-getting-started.html">Getting Started with Markdown</a> Next: <a href="02-gh-pages.html">Github Pages</a></p>

</section>

<footer>
<span>&copy; Lesson Contributors</span>
<span><a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img
alt="Creative Commons License" style="vertical-align: middle;"
src="https://i.creativecommons.org/l/by/4.0/80x15.png" /></a></span>
<span>This work is licensed under a <a rel="license"
href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution
4.0 International License</a></span>
</footer>
</body>
</html>
